%PLOTS HRV FINAL

load('RESULTS')

median_hrv_metrics = [
    median(RESULTS.ECG.HR.vertically,'omitnan');
    median(RESULTS.ECG.HRV.time.NN_mean','omitnan');
    median(RESULTS.ECG.HRV.time.SDNN','omitnan');
    median(RESULTS.ECG.HRV.time.RMSSD','omitnan');
    median(RESULTS.ECG.HRV.time.pNN50','omitnan')*100;
    ];

figure
title('Percentage B')
spider_plot(median_hrv_metrics', ...
    'AxesLabels', {{'HR';'(beats per minute)'}, {'NN'; '(ms)'}, ...
    {'SDNN';'(ms)'}, {'RMSSD';'(ms)'}, {'pNN50';'(%)'}}, ...
    'FillOption', 'on', ...
    'AxesWebType', 'circular', ...
    'FillTransparency', 0.05, ...
    'AxesDisplay', 'data', ...
    'AxesDataOffset', 0, ...
    'MarkerSize', 24, ...
    'AxesFontSize', 12, ...
    'LabelFontSize', 12, ...
    'AxesRadialLineWidth', 0.5, ...
    'AxesWebLineWidth', 0.5, ...
    'LineWidth', 1.5, ...
    'AxesDataOffset', 0.05)
legend('ME', 'MI', 'MIMO', 'MIMOHP', 'MIMOVR', 'MIMOVRHP', ...
    'FontSize', 12)

for i = 1:6
    for j = 1:5
        percentage_difference(j,i) = ((median_hrv_metrics(j,i) - median_hrv_metrics(j,1))/median_hrv_metrics(j,1))*100;
    end
end

figure
title('Percentage Difference B')
spider_plot(percentage_difference(:,1:6)'./100, ...
    'AxesLabels', {'HR', 'NN', 'SDNN', 'RMSSD', 'pNN50'}, ...
    'AxesWebType', 'circular', ...
    'AxesDisplay', 'none', ...
    'FillOption', {'off','on','on','on','on','on'}, ...
    'FillTransparency', 0.05, ...
    'AxesDisplay', 'data-percent', ...
    'AxesDataOffset', 0, ...
    'MarkerSize', 24, ...
    'AxesFontSize', 12, ...
    'LabelFontSize', 12,...
    'AxesRadialLineWidth', 0.5, ...
    'AxesWebLineWidth', 0.5, ...
    'Color', [0,0,0; 0.85,0.325,0.098; 0.929,0.694,0.125; ...
    0.494,0.184,0.556; 0.466,0.674,0.188; 0.301,0.745,0.933 ], ...
    'LineStyle', {'--','-','-','-','-','-'})
legend('', 'MI', 'MIMO', 'MIMOHP', 'MIMOVR', 'MIMOVRHP', ...
    'FontSize', 12)
